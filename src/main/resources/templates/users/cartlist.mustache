{{>layout/header}}
{{>layout/nav}}
{{^cartlistInfo}}
    <script>
        alert("Ваша корзина пуста.");
        window.location.href = "/";
    </script>
{{/cartlistInfo}}
<script src="/js/app/cartlist.js"></script>
<div class="container">
    <div class="d-flex justify-content-center">
        <h3>Корзина покупателя</h3>
    </div>
    <div>
        <div class="row">
            <div class="mr-2">
                <input type="checkbox" id="allCheck" checked/>
            </div>
            <div>
                <p>Выбрать все</p>
            </div>
        </div>
        <div>
        {{#cartlistInfo}}
            <script>
                i++;
            </script>
            <table class="table table-bordered table-hover text-center" id="table">
                <tbody>
                    <tr class="d-flex">
                        <td class="col-md-1">
                        <div>
                            <script>
                                document.write(`<input type="checkbox" name="check_name" value="`+{{book.uid}}+`" id="checkbox`+ i +`" checked/>`)
                            </script>
                        </div>
                        </td>
                        <td class="col-md-5">
                            <div>
                                <div>
                                    Название книги: {{book.bookName}}</div>
                                <div>
                                    Автор: {{book.bookAuthor}}</div>
                            </div>
                        </td>
                        <td class="col-md-2">
                            <div class="row">
                                <div class="mr-1">
                                    Количество: </div>
                                <script>
                                    document.write(`<input class="col-md-8 form-control" name="count" id="bookCount`+i+`"type="number" min="1" max="`+{{book.bookCount}}+`" value="`+{{bookCount}}+`"/>`);
                                </script>
                            </div>
                        </td>
                        <td class="col-md-4">
                            <div class="row d-flex justify-content-center">
                                <p class="mb-0 mr-2">
                                    Цена: </p>
                                <script>
                                    document.write(`<p class="mb-0 text-center" id="total`+i+`">`+
                                    multipleTotalPrice({{book.bookPrice}},i)+
                                    `</p>`)
                                </script>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        {{/cartlistInfo}}
        </div>
    </div>
    <div class="row">
        <div class="d-flex justify-content-start">
            <button type="button" id="btn-deleteCartlist" class="btn btn-outline-danger">Удалить</button>
        </div>
    </div>
    <div class="d-flex justify-content-end">
        <div class="btn-group">
            <button type="button"class="btn btn-lg btn-outline-secondary" id="btn-cartlistOrder" >Купить</button>
            <button type="button" class="btn btn-lg btn-outline-secondary">Отменить</button>
        </div>
    </div>
</div>

{{>layout/footer}}